---
- name: Run ctorgalson.macosbox role on macOS infrastructure.
  hosts: all
  gather_facts: true
  become: true
  tasks:
    - name: Load all default variables.
      include_vars:
        dir: ../defaults

    # Test ssh keys.
    - name: Include test tasks for ssh-keys.
      include_tasks: "tasks/ctorgalson.ssh_keys.yml"

    # Test ctorgalson.macos_hostname.
    - name: Include test tasks for ctorgalson.macos_hostname role.
      include_tasks: "tasks/ctorgalson.macos_hostname.yml"
      when: false
