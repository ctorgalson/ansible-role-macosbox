---
- name: Run ctorgalson.macosbox role on macOS infrastructure.
  hosts: all
  gather_facts: true

  pre_tasks:
    - name: Set mas_email fact.
      set_fact:
        mas_email: "{{ lookup('env','MAS_EMAIL') }}"

    - name: Set mas_email fact.
      set_fact:
        mas_password: "{{ lookup('env','MAS_PASSWORD') }}"
      no_log: true

  roles:
    - role: ansible-role-macosbox
